# SonarQube Configuration for WildFly Flyway

# Project identification
sonar.projectKey=wildfly-flyway
sonar.projectName=WildFly Flyway Subsystem
sonar.projectVersion=1.0.0-SNAPSHOT

# Source code configuration
sonar.sources=subsystem/src/main/java,testextension/src/main/java
sonar.tests=subsystem/src/test/java,integration-tests/src/test/java
sonar.java.binaries=subsystem/target/classes,testextension/target/classes
sonar.java.test.binaries=subsystem/target/test-classes,integration-tests/target/test-classes

# Coverage
sonar.coverage.jacoco.xmlReportPaths=subsystem/target/site/jacoco/jacoco.xml,integration-tests/target/site/jacoco/jacoco.xml
sonar.java.coveragePlugin=jacoco

# Exclusions
sonar.exclusions=**/*Test.java,**/*Tests.java,**/test/**,**/examples/**
sonar.test.exclusions=**/*Test.java,**/*Tests.java

# Quality Gates
sonar.qualitygate.wait=true

# Security
sonar.security.hotspots.max_critical_issues=0
sonar.security.hotspots.max_high_issues=0

# Code smell thresholds
sonar.issue.ignore.multicriteria=e1,e2

# Ignore generated code
sonar.issue.ignore.multicriteria.e1.ruleKey=java:S1214
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*Logger.java

# Ignore test code patterns
sonar.issue.ignore.multicriteria.e2.ruleKey=java:S2699
sonar.issue.ignore.multicriteria.e2.resourceKey=**/test/**/*Test.java

# Custom rules
sonar.java.source=11
sonar.java.target=11

# Links
sonar.links.homepage=https://github.com/wildfly/wildfly-flyway
sonar.links.ci=https://github.com/wildfly/wildfly-flyway/actions
sonar.links.scm=https://github.com/wildfly/wildfly-flyway
sonar.links.issue=https://github.com/wildfly/wildfly-flyway/issues

# Organization
sonar.organization=wildfly